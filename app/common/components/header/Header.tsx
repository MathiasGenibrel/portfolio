import clsx from "clsx";
import { HamburgerMenu } from "./HamburgerMenu";
import { NavListItem } from "./nav-list/NavListItem";
import { Appointment } from "./nav-list/Appointment";
import { MadeWithLove } from "./MadeWithLove";
import { useMenuHeader } from "~/hooks/useMenuHeader";

export const Header = () => {
  const [isOpen, toggle] = useMenuHeader();

  return (
    <>
      <div
        aria-hidden="true"
        className={clsx(
          "h-dvh w-dvh fixed bg-stone-800/25 backdrop-blur-2xl top-0 pointer-events-none",
          "transition-opacity duration-300",
          isOpen ? "opacity-100" : "opacity-0 delay-150",
        )}
      />

      <header
        className={clsx(
          "p-2 m-4 z-40",
          "flex flex-col gap-2 fixed top-0 rounded-2xl justify-between w-header left-0",
          "transition-all-quick-out duration-300",
          isOpen
            ? "h-calc-dvh-margin backdrop-blur-none bg-background"
            : "h-14 delay-200 backdrop-blur-2xl bg-stone-300/25 pointer-events-none",
        )}
      >
        <section>
          <nav className="flex flex-col gap-2">
            <div className={"flex justify-between items-center w-full"}>
              <a
                href="/"
                title="Back to home"
                className={"pointer-events-auto flex items-center"}
              >
                <svg
                  viewBox="0 0 802 802"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="aspect-square h-10 w-10 rounded-lg"
                >
                  <path
                    d="M619.209 355C619.229 430.826 619.249 506.152 619.263 581.479C619.263 584.311 619.352 587.156 619.132 589.974C618.718 595.277 616.472 597.322 611.11 597.333C596.111 597.365 581.104 597.625 566.118 597.181C560.221 597.006 555.944 598.963 551.984 602.921C541.613 613.287 530.99 623.405 520.768 633.915C517.78 636.986 515.882 636.99 513.128 634.007C510.602 631.27 508.072 629.007 511.983 625.346C519.888 617.948 527.63 610.376 535.391 602.826C536.66 601.592 538.375 600.652 538.795 598.655C537.579 596.624 535.568 597.192 533.854 597.185C522.022 597.135 510.189 597.255 498.359 597.116C495.111 597.078 492.669 598.06 490.371 600.329C473.414 617.069 456.414 633.765 439.35 650.396C427.896 661.56 416.279 672.556 404.823 683.719C402.708 685.779 401.301 686.652 398.77 684.011C373.171 657.295 345.594 632.581 319.692 606.186C312.749 599.111 305.805 595.997 296.077 596.912C287.984 597.672 279.76 597.029 271.594 597.033C269.811 597.034 267.967 596.784 266.305 597.713C266.071 600.294 267.939 601.44 269.3 602.754C305.492 637.714 341.73 672.626 377.92 707.587C384.629 714.068 391.141 720.751 397.792 727.293C402.366 731.793 402.788 731.722 407.396 727.218C433.252 701.946 459.115 676.681 484.997 651.436C490.144 646.415 491.118 646.628 495.391 652.111C497.245 654.491 496.978 655.976 494.924 657.999C476.765 675.895 458.716 693.904 440.575 711.818C430.616 721.653 420.549 731.379 410.514 741.136C409.082 742.528 407.416 743.698 406.097 745.183C403.141 748.511 401 747.717 397.989 744.786C348.91 697.025 299.69 649.408 250.572 601.687C247.391 598.596 244.143 597.074 239.562 597.168C224.57 597.474 209.567 597.346 194.569 597.364C186.813 597.373 184.821 595.405 184.823 587.627C184.84 512.968 184.882 438.309 184.896 363.65C184.906 309.822 184.892 255.995 184.868 202.167C184.864 194.419 186.504 192.661 194.101 192.655C204.934 192.646 215.775 192.395 226.594 192.769C231.795 192.949 235.358 190.934 238.864 187.465C268.352 158.279 297.906 129.161 327.517 100.101C339.289 88.5479 351.436 77.372 362.525 65.1418C364.803 62.6298 366.904 62.7975 368.709 65.2467C370.522 67.7071 375.186 69.6146 371.07 73.7802C366.853 78.0476 362.669 82.3481 358.398 86.5609C337.164 107.508 315.738 128.264 294.719 149.424C281.92 162.31 269.062 175.126 255.912 187.651C254.979 188.54 253.846 189.391 253.915 191.001C255.01 192.986 256.995 192.626 258.754 192.632C269.586 192.675 280.422 192.506 291.249 192.745C294.939 192.826 297.102 190.845 299.36 188.62C328.082 160.317 356.796 132.007 385.521 103.707C389.912 99.3799 394.404 95.1527 398.733 90.765C401.283 88.1807 403.372 88.3671 405.915 90.8811C423.097 107.867 440.338 124.794 457.627 141.672C460.52 144.496 461.855 146.644 458.088 150.151C454.635 153.366 452.484 153.542 449.075 150.148C434.554 135.687 419.794 121.466 405.11 107.17C404.184 106.268 403.159 105.469 400.866 103.484C372.639 132.835 344.536 162.057 316.119 191.605C316.607 192.823 318.578 192.613 320.369 192.615C343.7 192.64 367.031 192.593 390.362 192.686C394.382 192.702 396.031 191.225 395.994 187.094C395.835 169.43 395.878 151.765 395.845 134.1C395.844 133.6 395.789 133.101 395.783 132.601C395.725 127.603 398.381 123.747 401.881 123.744C405.504 123.741 408.225 127.415 408.218 132.393C408.196 150.224 408.14 168.055 408.127 185.886C408.122 192.535 408.251 192.65 414.752 192.651C437.917 192.654 461.081 192.653 484.246 192.609C486.025 192.606 487.905 193.083 489.592 192.01C490.341 190.235 488.794 189.665 487.928 188.798C480.156 181.017 472.494 173.118 464.518 165.551C461.044 162.256 462.303 160.169 464.958 157.335C467.767 154.337 470.059 153.604 473.242 156.783C482.909 166.439 492.879 175.796 502.408 185.584C507.352 190.662 512.559 193.402 519.954 192.831C528.569 192.167 537.274 192.689 545.939 192.632C547.72 192.62 549.606 193.084 551.805 191.574C501.912 142.481 452.138 93.5069 402.112 44.2838C399.079 46.0706 397.214 48.6559 395.077 50.872C390.545 55.5695 388.91 50.1478 386.363 48.3825C383.642 46.4956 384.063 44.4199 386.439 42.263C390.508 38.5687 394.535 34.8091 398.331 30.839C400.978 28.0703 403.148 27.9229 405.884 30.6591C415.659 40.4361 425.59 50.057 435.365 59.8335C479.077 103.551 523.72 146.316 567.911 189.543C570.244 191.824 572.659 192.774 575.887 192.731C587.218 192.582 598.551 192.642 609.883 192.639C617.634 192.638 619.236 194.222 619.236 202.017C619.235 252.845 619.219 303.672 619.209 355ZM197.104 420.5C197.105 433.663 197.104 446.827 197.109 459.99C197.125 499.482 197.177 538.973 197.115 578.465C197.109 582.729 197.824 585.481 203.027 585.45C218.999 585.355 234.974 585.653 250.947 585.615C308.917 585.478 366.889 584.95 424.857 585.239C447.667 585.353 470.475 584.965 493.296 585.411C527.923 586.087 562.573 585.594 597.213 585.577C599.04 585.576 600.866 585.365 602.694 585.281C605.786 585.139 606.999 583.543 607.025 580.456C607.078 574.298 607.51 568.144 607.584 561.985C607.918 534.337 607.447 506.689 607.485 479.039C607.606 390.896 607.187 302.753 607.019 214.609C606.997 202.886 607.74 204.356 596.924 204.352C466.45 204.308 335.977 204.314 205.503 204.304C197.144 204.304 196.968 204.463 196.973 213.043C197.015 281.862 197.06 350.681 197.104 420.5ZM441.046 631.546C452.24 620.748 463.433 609.95 474.559 599.216C472.646 596.515 470.483 597.187 468.587 597.183C451.923 597.139 435.26 597.185 418.596 597.152C407.345 597.13 408.038 596.369 408.093 607.726C408.143 617.89 408.257 628.053 408.33 638.216C408.363 642.948 405.513 647.056 402.165 647.152C398.496 647.256 395.636 643.236 395.696 638.054C395.7 637.72 395.722 637.387 395.724 637.054C395.786 625.727 395.738 614.398 395.961 603.074C396.047 598.697 394.165 597.182 389.99 597.192C371.827 597.237 353.663 597.113 335.5 597.118C333.802 597.119 331.734 596.579 330.596 598.995C331.11 600.718 332.523 601.881 333.822 603.141C346.139 615.089 358.454 627.038 370.756 639.001C380.074 648.061 389.374 657.138 398.675 666.215C400.731 668.221 402.337 669.569 405.212 666.675C416.834 654.977 428.747 643.568 441.046 631.546Z"
                    fill="#0C4A6E"
                  />
                  <path
                    d="M437.9 168.561C434.761 173.237 430.55 174.386 425.891 172.783C421.753 171.359 420.437 167.763 420.681 163.537C420.935 159.147 423.344 156.499 427.385 155.247C430.899 154.159 434.03 155.186 436.514 157.713C439.498 160.75 440.151 164.328 437.9 168.561Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M379.531 157.489C383.243 161.69 383.427 165.921 380.313 169.946C377.421 173.685 373.241 174.181 369.089 172.545C364.895 170.892 363.198 167.369 363.793 162.93C364.569 157.139 372.016 152.101 379.531 157.489Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M401.095 711.844C396.436 710.653 393.671 708.134 393.487 703.464C393.332 699.548 394.449 696.142 398.157 694.224C402.149 692.159 407.442 694.176 409.616 698.42C411.723 702.535 410.006 708.066 405.701 710.495C404.436 711.209 402.89 711.423 401.095 711.844Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M394.264 75.4548C391.931 70.7953 392.835 67.0221 396.409 63.9557C399.23 61.5359 402.41 61.256 405.632 63.2352C409.015 65.3135 411.057 68.1761 410.272 72.3463C409.603 75.9002 407.399 78.3755 404.03 79.4913C399.962 80.8389 397.023 78.6778 394.264 75.4548Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M588.924 517C588.94 530.331 589.016 543.163 588.949 555.994C588.902 565.114 587.608 566.316 578.532 566.316C461.381 566.315 344.231 566.311 227.08 566.303C224.914 566.303 222.735 566.386 220.587 566.175C217.538 565.877 215.701 564.236 215.695 560.971C215.692 559.638 215.661 558.305 215.661 556.972C215.676 449.153 215.691 341.335 215.711 233.516C215.713 224.076 216.172 223.649 225.608 223.649C343.259 223.649 460.91 223.646 578.561 223.638C587.833 223.638 588.282 224.1 588.401 233.062C589.651 327.539 588.678 422.021 588.924 517ZM326.158 485.643C350.333 462.466 375.154 439.985 399.766 417.277C402.962 414.329 404.963 413.827 408.298 417.231C429.409 438.776 451.431 459.39 473.199 480.264C488.352 494.795 503.47 509.362 518.582 523.935C520.925 526.194 523.304 528.039 526.897 527.6C535.524 526.544 544.21 526.915 552.863 527.018C557.419 527.072 558.854 525.571 558.788 520.952C558.519 502.124 558.614 483.291 558.613 464.46C558.613 440.13 558.646 415.799 558.673 391.469C558.677 388.366 558.895 385.328 554.29 385.344C532.626 385.422 510.963 385.403 489.299 385.389C485.533 385.386 483.935 387.127 483.99 390.921C484.096 398.251 484.067 405.587 483.886 412.916C483.781 417.126 485.347 418.938 489.743 418.822C498.569 418.589 507.408 418.828 516.237 418.666C519.853 418.6 521.524 419.29 521.459 423.612C521.215 439.772 521.479 455.938 521.493 472.102C521.495 473.996 521.987 476.096 519.606 478.296C489.141 449.583 458.699 420.89 427.667 391.642C458.639 363.097 488.12 333.258 520.098 305.508C521.551 307.997 521.282 309.679 521.29 311.294C521.324 318.126 521.418 324.96 521.287 331.79C521.225 335.055 522.194 336.788 525.779 336.748C535.444 336.64 545.11 336.657 554.775 336.727C557.508 336.747 558.692 335.714 558.681 332.912C558.597 310.415 558.565 287.918 558.567 265.421C558.567 261.628 556.903 260.101 553.074 260.17C543.411 260.344 533.743 260.369 524.079 260.236C520.81 260.191 518.503 261.383 516.155 263.576C492.176 285.979 468.174 308.36 444.032 330.587C395.374 375.387 346.889 420.37 298.744 465.721C293.644 470.525 288.871 475.834 282.298 479.709C282.298 421.988 282.298 364.918 282.298 307.232C283.724 308.046 284.552 308.31 285.092 308.858C301.688 325.728 319.248 341.589 336.347 357.933C344.537 365.761 352.604 373.718 360.653 381.692C363.771 384.78 366.455 385.447 369.911 381.886C374.659 376.992 379.816 372.487 384.886 367.915C389.686 363.586 389.846 362.631 385.087 358.032C375.982 349.232 366.765 340.548 357.597 331.814C333.83 309.175 310.039 286.561 286.333 263.859C283.484 261.132 280.48 259.973 276.504 260.105C268.181 260.383 259.843 260.22 251.511 260.216C244.755 260.214 244.478 260.372 244.453 267.195C244.377 287.859 244.308 308.523 244.381 329.187C244.604 392.839 243.839 456.495 244.97 520.145C245.089 526.853 245.261 527.069 252.09 527.067C260.254 527.065 268.428 526.869 276.58 527.202C279.909 527.338 282.27 526.392 284.607 524.204C298.231 511.453 311.937 498.79 326.158 485.643Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M425.405 612.794C425.698 609.594 427.034 607.772 430.111 607.815C432.116 607.842 433.62 608.776 434.267 610.723C435.052 613.088 434.114 615.128 432.249 616.378C428.424 618.943 426.562 616.664 425.405 612.794Z"
                    fill="#0F172A"
                  />
                  <path
                    d="M370.998 611.214C372.367 607.822 374.654 606.981 377.472 608.293C379.577 609.273 380.641 611.19 379.924 613.595C379.275 615.772 377.98 617.627 375.443 617.376C372.125 617.047 370.608 614.947 370.998 611.214Z"
                    fill="#0F172A"
                  />
                </svg>
                <span
                  className={clsx(
                    "font-display text-sm font-bold text-stone-700",
                  )}
                >
                  MG Studio
                </span>
              </a>

              <HamburgerMenu handleClick={toggle} isOpen={isOpen} />
            </div>

            {/* Navigation Menu */}
            <ul
              className={clsx(
                "flex flex-col",
                "transition-all, duration-300",
                isOpen ? "opacity-100 delay-150" : "opacity-0",
              )}
            >
              <NavListItem>À propos</NavListItem>
              <NavListItem>Projets</NavListItem>
            </ul>
          </nav>
        </section>

        <section className={"flex flex-col gap-4 mb-2"}>
          <Appointment isOpen={isOpen} />

          <MadeWithLove isOpen={isOpen} />
        </section>
      </header>
    </>
  );
};
